<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: #333;
        }
        div {
            text-align: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            padding: 20px;
            background-color: white;
            border-radius: 8px;
        }
        h1 {
            color: #171717;
        }
        input, button {
            margin: 5px;
            padding: 10px;
        }
        ul {
            list-style: none;
            padding: 0;
        }
        li {
            cursor: pointer;
            padding: 5px;
        }
        li:hover {
            background-color: #ddd;
        }
    </style>
</head>
<body>
    <div>
        <h1>Spotify Playlist Creator</h1>
        <div id="authSection">
            <button id="loginButton">Login with Spotify</button>
        </div>
        <div id="playlistSection" style="display: none;">
            <p id="userInfo"></p>
            <input type="text" id="playlistSearch" placeholder="Search Playlists">
            <ul id="searchResults"></ul>
            
            <h3>Selected Playlists:</h3>
            <ul id="selectedPlaylists"></ul>

            <h3>Frequency:</h3>
            <label><input type="radio" name="frequency" value="daily"> Daily</label>
            <label><input type="radio" name="frequency" value="weekly"> Weekly</label>
            <label><input type="radio" name="frequency" value="monthly"> Monthly</label>

            <h3>New Playlist Name:</h3>
            <input type="text" id="newPlaylistName" placeholder="Enter new playlist name">
            <button id="createPlaylist">Create Playlist</button>
        </div>
    </div>

    <script>
        let authToken = null;
        let userId = null;
        let selectedPlaylists = [];

        document.getElementById('loginButton').addEventListener('click', function() {
            // Implement your Spotify login logic here
            authToken = "dummy_token"; // Replace with real auth handling
            userId = "test_user"; // Replace with real user ID from Spotify API
            document.getElementById('authSection').style.display = 'none';
            document.getElementById('playlistSection').style.display = 'block';
            document.getElementById('userInfo').textContent = "Logged in as: " + userId;
        });

        document.getElementById('playlistSearch').addEventListener('input', function(e) {
            let query = e.target.value;
            if (query.length > 2) {
                // Implement search logic here (replace with real API call)
                let fakeResults = [
                    { id: '1', name: 'Chill Vibes' },
                    { id: '2', name: 'Workout Mix' }
                ];
                let resultsList = document.getElementById('searchResults');
                resultsList.innerHTML = '';
                fakeResults.forEach(playlist => {
                    let li = document.createElement('li');
                    li.textContent = playlist.name;
                    li.onclick = () => addPlaylist(playlist);
                    resultsList.appendChild(li);
                });
            }
        });

        function addPlaylist(playlist) {
            if (!selectedPlaylists.some(p => p.id === playlist.id)) {
                selectedPlaylists.push(playlist);
                let selectedList = document.getElementById('selectedPlaylists');
                let li = document.createElement('li');
                li.textContent = playlist.name;
                selectedList.appendChild(li);
            }
        }

        document.getElementById('createPlaylist').addEventListener('click', function() {
            let newPlaylistName = document.getElementById('newPlaylistName').value;
            let frequency = document.querySelector('input[name="frequency"]:checked')?.value;
            if (newPlaylistName && frequency) {
                alert(`Creating playlist "${newPlaylistName}" with frequency "${frequency}"`);
                // Implement API call to create playlist
            } else {
                alert('Please enter a playlist name and select a frequency.');
            }
        });
    </script>
</body>
</html>
